---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "dsm_admin_app Resource - terraform-provider-dsm"
subcategory: ""
description: |-
  Creates a new DSM Admin app. The returned resource object contains the UUID of the app for further references. Using dsm_admin_app following apps can be created:
  secretawsxksawsiamcertificatetrustedca
---

# dsm_admin_app (Resource)

Creates a new DSM Admin app. The returned resource object contains the UUID of the app for further references. Using dsm_admin_app following apps can be created:
   * `secret`
   * `awsxks`
   * `awsiam`
   * `certificate`
   * `trustedca`

## Example Usage

```terraform
# Create an admin app of type secret(API key)
resource "dsm_admin_app" "dsm_admin_app_secret" {
  name = "admin_app_test"
  authentication_method = {
    type = "secret"
  }
}

# Regenerate the secret(API key)
resource "dsm_admin_app" "dsm_admin_app_secret" {
  name = "admin_app_test"
  authentication_method = {
    type = "secret"
  }
  new_credential = true
}

# Create an admin app of type awsxks
resource "dsm_admin_app" "dsm_admin_app_awsxks" {
  name = "dsm_admin_app_awsxks"
  authentication_method = {
    type = "awsxks"
  }
}

# Create an admin app of type certificate
resource "dsm_admin_app" "dsm_admin_app_certificate" {
  name = "dsm_admin_app_certificate"
  authentication_method = {
    type        = "certificate"
    certificate = "MIIC3jCCXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXa8YtwoA1"
  }
}

# Create an admin app of type trusted ca with dns_name
resource "dsm_admin_app" "dsm_admin_app_trustedca_dns" {
  name = "dsm_admin_app_trustedca_dns"
  authentication_method = {
    type           = "trustedca"
    ca_certificate = "MIIC3jCCXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXa8YtwoA1"
    dns_name       = "terraform.user.com"
  }
}

# Create an admin app of type trusted ca with ip address
resource "dsm_admin_app" "dsm_admin_app_trustedca_ip" {
  name        = "dsm_admin_app_trustedca_ip"
  description = "admin app"
  authentication_method = {
    type           = "trustedca"
    ca_certificate = "MIIC3jCCXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXa8YtwoA1"
    ip_address     = "XX.XX.XX.XX"
  }
}

# Create an admin app of type awsiam
resource "dsm_admin_app" "dsm_admin_app_awsiam" {
  name = "arn:aws:sts::12345678:assumed-role/test-role/dsm-test"
  authentication_method = {
    type = "awsiam"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `authentication_method` (Map of String) The Authentication type of an app.
   * `type`:  Following authentication types are supported.
       * api_key, awsxks, awsiam, certificate and trustedca.
   * `certificate`: Certificate value, this should be configured when the type is certificate.
   * `ca_certificate`: CA certificate value, this should be configured when the type is trustedca.
   One of the following parameters should be given when the type is trustedca.
   * `ip_address`:  IP address value for trusted ca.
   * `dns_name`:  DNS name for trusted ca.
   **Note**: For more details refer the above examples.
- `name` (String) The Fortanix DSM App name.

### Optional

- `description` (String) The description of the app.
- `new_credential` (Boolean) Set this if you want to rotate/regenerate the API key(secret). The values can be set as true/false.

**Note**: This should set only when the type of authentication_method is secret.

### Read-Only

- `acct_id` (String) The account ID from Fortanix DSM.
- `app_id` (String) The unique ID of the app from Terraform.
- `creator` (Map of String) The creator of the app from Fortanix DSM.
   * `user`: If the app was created by a user, the computed value will be the matching user id.
   * `app`: If the app was created by a app, the computed value will be the matching app id.
- `credential` (Map of String) The Fortanix DSM App credentials.

   * When the authentication method is secret. An API key will be mapped here.
   * When the authentication method is awsxks. AWSXKS access and secret keys will be mapped here.
   * When the authentication method is certificate/trustedca. A certificate will be mapped here.
- `id` (String) The ID of this resource.
